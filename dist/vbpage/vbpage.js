import{m as p}from"../__chunks__/index.module.DQI0LCqS.js";import{g as f}from"../__chunks__/getUrlForEndpoint.CxBBQRxT.js";import"../__chunks__/isSidekickLibraryActive.U-fJCMMj.js";class g{constructor(){this.runtimeCache=new Map}get(e){return this.runtimeCache.get(e)}set(e,t){this.runtimeCache.set(e,t)}has(e){return this.runtimeCache.has(e)}delete(e){this.runtimeCache.delete(e)}}class l{constructor(){this.requestPipeline=new Map,this.runtimeCache=new g}fetchJsonExternal(e,t={}){return this.fetchData(e,t,this.getResponseJSON)}fetchJson(e,t={}){return this.fetchData(f(e).href,t,this.getResponseJSON)}fetchTextExternal(e,t={}){return this.fetchData(e,t,this.getResponseText)}fetchText(e,t={}){return this.fetchData(f(e).href,t,this.getResponseText)}async fetchData(e,t,s){const{cacheOptions:a}=t,o=this.getCachedData(e,a);if(o!==null)return o;const i=this.requestPipeline.get(e);if(i!==void 0)return s(await i);const c=fetch(e,t.fetchOptions);this.requestPipeline.set(e,c);const n=await c;this.requestPipeline.delete(e);const h=await s(n);if(this.setCachedData(e,h,a),!n.ok){const u=await n.text();throw p.error(`FetchService: Error fetching data from ${e}: ${u}`),new Error(`Error fetching data from ${e}: ${u}`)}return h}async getResponseJSON(e){return await e.clone().json()}async getResponseText(e){return await e.clone().text()}getCachedData(e,t){return(t==null?void 0:t.cacheType)==="runtime"?this.runtimeCache.get(e)??null:null}setCachedData(e,t,s){(s==null?void 0:s.cacheType)==="runtime"&&this.runtimeCache.set(e,t)}}const m=new l;async function w(r){const e="https://427829a5-f09b-44ae-a207-2e45c77525e2.mock.pstmn.io/get";let t="";try{t=await m.fetchTextExternal(e)}catch(s){p.error("VBPage: Error fetching vbPage data:",s),t=""}r.innerHTML=t}export{w as default};
//# sourceMappingURL=vbpage.js.map
